#Чанки
Чанками называются блоки контента, предназначенные для многократного использования в различных местах сайта.

В общем случае, чанк - законченная часть `html` кода, в который при необходимости помещаются специальные плейсхолдеры, типа `[[+param]]`.

Плейсхолдер -  некий шаблон, который в момент вывода страницы будет заменен на соответствующее значение, указанное в вызове чанка.

##Что дают чанки?
В том случае, если на ряде страниц сайта требуется разместить однотипный кусок кода в контенте, нет необходимости дублировать его на каждой странице. 

Достаточно вызвать чанк в контенте страниц. А сам код или текст поместить в чанк. При этом, если позже потребуется отредактировать этот текст, достаточно будет отредактировать его в чанке. И на всех страницах, где он был вызван, он примет новый вид.

###В настоящий момент в CMS DotPlant2 поддержка чанков реализована следующим образом:
 - создание чанка в административной части сайта;
 -  вывод чанка в любом месте контента определенной страницы.

##Создание чанка:
Для создания чанка необходимо перейти в раздел меню Чанки в административной панели сайта. Далее, нажать Добавить.
В форме создания чанка необходимо заполнить следующие поля:
- `имя` - название чанка, требуется для отображения в списке в контрольной панели сайта;
- `ключ` - уникальное значение для идентификации чанка в системе. Должен содержать только латинские буквы и цифры.
- `значение` - поле с содержимым чанка. `Html` код. Пример ниже.
- `предварительная загрузка` - чекбокс. Если отметить, то чанк будет загружен до его первого вызова.

###Пример чанка:
```html
<div>
    <h3>Я - Чанк по имени [[+name]]</h3>
    <p>Содержу в себе: [[+value]].</p>
</div>
```
Этот чанк имеет 2 плейсхолдера `[[+name]]` и `[[+value]]`.  Они будут заменены на соответствующие значения, указанные в вызове чанка.

Плейсхолдеры в чанках должны иметь строго заданный формат: `[[+param:format, param1, param2, ‘param3’]]`

Где:
- `[[  ]]` - обязательные суффикс и префикс, объясняющие системе, что это плейсхолдер;
- `+` - токен плейсхолдера, который обозначает, что вместо этого плейсхолдера будет подставлено значение из вызова чанка;
- `param` - идентификатор плейсхолдера. Он же - имя параметра, который необходимо указать в вызове чанка.
- `format` - метод форматирования. Опционально. Если требуется отформатировать передаваемое значение, то после имени параметра в плейсхолдере требуется указать `:format`. Двоеточие обязательно. О доступных методах форматирования можно узнать [здесь](http://www.yiiframework.com/doc-2.0/yii-i18n-formatter.html) 
- `параметры форматирования` - в зависимости от выбранного метода форматирования, требуется передать различные параметры, помимо форматируемого значения. О них так же написано в документации по ссылке выше. При необходимости они передаются через запятую после имени метода форматирования: `:format, param1, param2, ‘param3’`

##Вызов чанка:
В настоящий момент чанк можно вызвать в поле Контент любого объекта сайта (Страница, Категория, Продукт). Для этого необходимо перейти к редактированию выбранного объекта и в поле контент в нужное место вставить вызов, аналогичный следующему:
```html
[[$chunk name='Джеки Чанк’|’Чанк Норрис’ value=’всю мудрость китайской философии’]]
```
где:
- `[[ ]]` - обязательные суффикс и префикс;
- `$chunk` - ключ чанка, который был указан при создании чанка. `$` - символ, обозначающий начало ключа чанка.
- `name='Джеки Чанк’|’Чанк Норрис’` - параметр name и его значение. Значения могут быть двух типов: `string` и `float`. Если значение заключено в одинарные кавычки - это строка. Иначе - число с плавающей точкой. Других вариантов нет. Значения будет приведены к типам, согласно вызову в чанке. Разделитель `|` позволяет указать альтернативное значение, или значение по умолчанию. Оно будет использовано, если основное значение пустое. Например, в случае:
    `name='’|’Чанк Норрис’` - будет использовано значение `’Чанк Норрис’`.
    
Значения `name` и `value` , указанные в вызове чанка будут использованы для замены соответствующих плейсхолдеров чанка.
В итоге, после вызова 
```html
[[$chunk name='Джеки Чанк’|’Чанк Норрис’ value=’всю мудрость китайской философии’]]
```
На странице сайта мы получим:
```html
<div>
    <h3>Я - Чанк по имени Джеки Чанк</h3>
    <p>Содержу в себе: всю мудрость китайской философии.</p>
</div>
```
>Имя передаваемого при вызова чанка параметра должно в точности совпадать с именем, указанным в плейсхолдере в чанке, в противном случае оно будет проигнорировано.

>Чанк можно вызвать без параметров. В этом случае, если в чанке были плейсхолдеры - они будут вырезаны. А статический текст и `html` код будут выведены без изменений.
