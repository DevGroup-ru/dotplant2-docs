# Виджет отзывов

Виджет отзывов генерирует в указанном месте  сайта список имеющихся отзывов и форму для добавления нового отзыва.
В административной части сайта в разделе Отзывы отображается список добавленных отзывов.
Добавленный отзыв появляется на сайте только после того, как в административной части ему будет установлен статус `approved`, что будет означать его утверждение модератором сайта.
Помимо изменения статуса отзыва его можно удалить. Никаких других манипуляций с отзывами через административную часть сайта производить невозможно.

Для авторизованных пользователей при добавлении нового отзыва по умолчанию отображается 2 поля: телефон и текст. Поле текст является обязательным.
Для неавторизованного пользователя отображается 4 поля:

- Имя пользователя - обязательное,
- Email - необязательное,
- Телефон - необязательное,
- Текст - обязательное.

Также можно добавить произвольное количество полей к отзыву задав их для формы.

### Минимальный вызов виджета выглядит следующим образом:

```php
\app\modules\review\widgets\ReviewsWidget::widget(
	[
		'model' => $model,
		'formId' => 1,
		'additionalParams' => [
			'model' => $model,
		],
	]
)
```

#### Параметры вызова:

- `formId` - ID формы. Integer
- `model` - модель текущего товара\категории\страницы. ActiveRecord successor
- `additianalParams` - дополнительные параметры необходимые для построения правильного УРЛ. Array ключ => значение (Необязательно)
- `ratingGroupName` - название группы рейтингов. String (Необязательно)
- `viewFile` - путь до файла представления. String (Необязательно)
- `registerCanonical` - добавить каноникал ссылку в секцию HEAD. Boolean (Необязательно)
- `useCaptcha` - выводить капчу. Boolean (Необязательно)

### Пример вызова отзыва для страницы продукта:

```php
\app\modules\review\widgets\ReviewsWidget::widget(
	[
		'model' => $model, // Модель продукта
		'formId' => 1, // Идентификатор формы
		'additionalParams' => [
			'model' => $model, // Дополнительные параметры
		],
	]
)
```
```